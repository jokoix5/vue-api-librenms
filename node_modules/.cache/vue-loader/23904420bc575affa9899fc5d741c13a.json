{"remainingRequest":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/src/components/Memory.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/src/components/Memory.vue","mtime":1597678348000},{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nIGZyb20gIkAvY29tcG9uZW50cy9Mb2FkaW5nIgppbXBvcnQgeyB0b1RpbWVzdGFtcCB9IGZyb20gIi4uL3V0aWxzL2RhdGUiCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lbW9yeSIsCgogIGNvbXBvbmVudHM6IHsgTG9hZGluZyB9LAoKICBwcm9wczogWyJkYXRlU3RhcnQiLCAiZGF0ZUVuZCJdLAoKICBkYXRhOiAoKSA9PiAoewogICAgbWVtb3J5SW1hZ2U6ICIiLAogICAgaXNFbXB0eTogZmFsc2UsCiAgICBpc0xvYWRpbmc6IGZhbHNlLAogIH0pLAoKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaE1lbW9yeUltYWdlKCkKICB9LAoKICB3YXRjaDogewogICAgZGF0ZVN0YXJ0KCkgewogICAgICB0aGlzLmZldGNoTWVtb3J5SW1hZ2UoKQogICAgfSwKCiAgICBkYXRlRW5kKCkgewogICAgICB0aGlzLmZldGNoTWVtb3J5SW1hZ2UoKQogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICBmZXRjaE1lbW9yeUltYWdlKCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUKICAgICAgbGV0IGJhc2VVcmwgPSBgL2RldmljZXMvJHt0aGlzLiRyb3V0ZS5wYXJhbXMuaG9zdG5hbWV9L2RldmljZV91Y2RfbWVtb3J5P2xlZ2VuZD1ub2AKICAgICAgbGV0IGZyb21EYXRlID0gYGZyb209JHt0b1RpbWVzdGFtcCh0aGlzLmRhdGVTdGFydCl9YAogICAgICBsZXQgdG9EYXRlID0gYHRvPSR7dG9UaW1lc3RhbXAodGhpcy5kYXRlRW5kKX1gCiAgICAgIGxldCB3aWR0aCA9IGB3aWR0aD0kezUwMH1gCiAgICAgIGxldCBoZWlnaHQgPSBgaGVpZ2h0PSR7MTYwfWAKICAgICAgbGV0IHVybCA9IFtiYXNlVXJsLCBmcm9tRGF0ZSwgdG9EYXRlLCB3aWR0aCwgaGVpZ2h0XS5qb2luKCImIikKCiAgICAgIHRoaXMuYXhpb3MKICAgICAgICAuZ2V0KHVybCwgeyByZXNwb25zZVR5cGU6ICJibG9iIiB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc2l6ZSA9PT0gMCkgewogICAgICAgICAgICB0aGlzLmlzRW1wdHkgPSB0cnVlCiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpCgogICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChyZXNwb25zZS5kYXRhKQoKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICAgICAgICB0aGlzLm1lbW9yeUltYWdlID0gcmVhZGVyLnJlc3VsdAogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmlzRW1wdHkgPSBmYWxzZQogICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMuZXJyb3JzLnB1c2goZSkKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICB9KQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["Memory.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Memory.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card flat class=\"mx-auto\">\n    <div v-if=\"isEmpty\">\n      <v-alert type=\"warning\">\n        Opps! Graph for Storage is not available.\n      </v-alert>\n    </div>\n\n    <div v-if=\"isLoading\">\n      <Loading />\n    </div>\n\n    <div v-if=\"!isLoading\">\n      <div v-if=\"!isEmpty\">\n        <v-img\n          class=\"white--text align-end\"\n          max-height=\"300px\"\n          max-width=\"100%\"\n          :src=\"memoryImage\"\n        ></v-img>\n      </div>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\"\nimport { toTimestamp } from \"../utils/date\"\n\nexport default {\n  name: \"Memory\",\n\n  components: { Loading },\n\n  props: [\"dateStart\", \"dateEnd\"],\n\n  data: () => ({\n    memoryImage: \"\",\n    isEmpty: false,\n    isLoading: false,\n  }),\n\n  mounted() {\n    this.fetchMemoryImage()\n  },\n\n  watch: {\n    dateStart() {\n      this.fetchMemoryImage()\n    },\n\n    dateEnd() {\n      this.fetchMemoryImage()\n    },\n  },\n\n  methods: {\n    fetchMemoryImage() {\n      this.isLoading = true\n      let baseUrl = `/devices/${this.$route.params.hostname}/device_ucd_memory?legend=no`\n      let fromDate = `from=${toTimestamp(this.dateStart)}`\n      let toDate = `to=${toTimestamp(this.dateEnd)}`\n      let width = `width=${500}`\n      let height = `height=${160}`\n      let url = [baseUrl, fromDate, toDate, width, height].join(\"&\")\n\n      this.axios\n        .get(url, { responseType: \"blob\" })\n        .then((response) => {\n          if (response.data.size === 0) {\n            this.isEmpty = true\n            this.isLoading = false\n          } else {\n            let reader = new FileReader()\n\n            reader.readAsDataURL(response.data)\n\n            reader.onload = () => {\n              this.memoryImage = reader.result\n            }\n\n            this.isEmpty = false\n            this.isLoading = false\n          }\n        })\n        .catch((e) => {\n          this.errors.push(e)\n          this.isLoading = false\n        })\n    },\n  },\n}\n</script>\n\n"]}]}