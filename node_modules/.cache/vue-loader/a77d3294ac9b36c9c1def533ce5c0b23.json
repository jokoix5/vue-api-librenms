{"remainingRequest":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/src/components/Processor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/src/components/Processor.vue","mtime":1597678348000},{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/media/Documents/seminar tugas akhir/vue-api-librenms-master/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2FkaW5nIGZyb20gIkAvY29tcG9uZW50cy9Mb2FkaW5nIgppbXBvcnQgeyB0b1RpbWVzdGFtcCB9IGZyb20gIi4uL3V0aWxzL2RhdGUiCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlByb2Nlc3NvciIsCgogIGNvbXBvbmVudHM6IHsgTG9hZGluZyB9LAoKICBwcm9wczogWyJkYXRlU3RhcnQiLCAiZGF0ZUVuZCJdLAoKICBkYXRhOiAoKSA9PiAoewogICAgcHJvY2Vzc29yR3JhcGg6ICIiLAogICAgaXNFbXB0eTogZmFsc2UsCiAgICBpc0xvYWRpbmc6IGZhbHNlLAogIH0pLAoKICBtb3VudGVkKCkgewogICAgdGhpcy5mZXRjaFByb2Nlc3NvcigpCiAgfSwKCiAgd2F0Y2g6IHsKICAgIGRhdGVTdGFydCgpIHsKICAgICAgdGhpcy5mZXRjaFByb2Nlc3NvcigpCiAgICB9LAoKICAgIGRhdGVFbmQoKSB7CiAgICAgIHRoaXMuZmV0Y2hQcm9jZXNzb3IoKQogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICBmZXRjaFByb2Nlc3NvcigpIHsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlCiAgICAgIGxldCBiYXNlVXJsID0gYC9kZXZpY2VzLyR7dGhpcy4kcm91dGUucGFyYW1zLmhvc3RuYW1lfS9ncmFwaHMvaGVhbHRoL2RldmljZV9wcm9jZXNzb3I/bGVnZW5kPW5vYAogICAgICBsZXQgZnJvbURhdGUgPSBgZnJvbT0ke3RvVGltZXN0YW1wKHRoaXMuZGF0ZVN0YXJ0KX1gCiAgICAgIGxldCB0b0RhdGUgPSBgdG89JHt0b1RpbWVzdGFtcCh0aGlzLmRhdGVFbmQpfWAKICAgICAgbGV0IHdpZHRoID0gYHdpZHRoPSR7NTAwfWAKICAgICAgbGV0IGhlaWdodCA9IGBoZWlnaHQ9JHsxNjB9YAogICAgICBsZXQgdXJsID0gW2Jhc2VVcmwsIGZyb21EYXRlLCB0b0RhdGUsIHdpZHRoLCBoZWlnaHRdLmpvaW4oIiYiKQoKICAgICAgdGhpcy5heGlvcwogICAgICAgIC5nZXQodXJsLCB7IHJlc3BvbnNlVHlwZTogImJsb2IiIH0pCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zaXplID09PSAwKSB7CiAgICAgICAgICAgIHRoaXMuaXNFbXB0eSA9IHRydWUKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCkKCiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHJlc3BvbnNlLmRhdGEpCgogICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gewogICAgICAgICAgICAgIHRoaXMucHJvY2Vzc29yR3JhcGggPSByZWFkZXIucmVzdWx0CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuaXNFbXB0eSA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgdGhpcy5lcnJvcnMucHVzaChlKQogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgIH0pCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["Processor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Processor.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card flat class=\"mx-auto\">\n    <div v-if=\"isEmpty\">\n      <v-alert type=\"warning\">\n        Opps! Graph for Processor is not available.\n      </v-alert>\n    </div>\n\n    <div v-if=\"isLoading\">\n      <Loading />\n    </div>\n\n    <div v-if=\"!isLoading\">\n      <div v-if=\"!isEmpty\">\n        <v-img\n          class=\"white--text align-end\"\n          max-height=\"300px\"\n          max-width=\"100%\"\n          :src=\"processorGraph\"\n        ></v-img>\n      </div>\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\"\nimport { toTimestamp } from \"../utils/date\"\n\nexport default {\n  name: \"Processor\",\n\n  components: { Loading },\n\n  props: [\"dateStart\", \"dateEnd\"],\n\n  data: () => ({\n    processorGraph: \"\",\n    isEmpty: false,\n    isLoading: false,\n  }),\n\n  mounted() {\n    this.fetchProcessor()\n  },\n\n  watch: {\n    dateStart() {\n      this.fetchProcessor()\n    },\n\n    dateEnd() {\n      this.fetchProcessor()\n    },\n  },\n\n  methods: {\n    fetchProcessor() {\n      this.isLoading = true\n      let baseUrl = `/devices/${this.$route.params.hostname}/graphs/health/device_processor?legend=no`\n      let fromDate = `from=${toTimestamp(this.dateStart)}`\n      let toDate = `to=${toTimestamp(this.dateEnd)}`\n      let width = `width=${500}`\n      let height = `height=${160}`\n      let url = [baseUrl, fromDate, toDate, width, height].join(\"&\")\n\n      this.axios\n        .get(url, { responseType: \"blob\" })\n        .then((response) => {\n          if (response.data.size === 0) {\n            this.isEmpty = true\n            this.isLoading = false\n          } else {\n            let reader = new FileReader()\n\n            reader.readAsDataURL(response.data)\n\n            reader.onload = () => {\n              this.processorGraph = reader.result\n            }\n\n            this.isEmpty = false\n            this.isLoading = false\n          }\n        })\n        .catch((e) => {\n          this.errors.push(e)\n          this.isLoading = false\n        })\n    },\n  },\n}\n</script>\n\n"]}]}